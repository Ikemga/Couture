SET SEARCH_PATH = "COUP";

CREATE EXTENSION postgis;
DROP TABLE IF EXISTS "atelier";

DROP TABLE IF EXISTS "client";
CREATE TABLE "client"
(
	"id_client" INTEGER NOT NULL PRIMARY KEY,
	"nom" VARCHAR(100) NOT NULL,
	"telephone" VARCHAR(15) NOT NULL,
	"adresse" VARCHAR(100),
	"mail" VARCHAR(100)
);


DROP TABLE IF EXISTS "commande";
CREATE TABLE "commande"
(
	"id_commande" INTEGER NOT NULL,
	"num_commande" VARCHAR(10) NOT NULL PRIMARY KEY,
	"date" TIMESTAMP DEFAULT NOW(),
	"date_retrait" DATE NOT NULL,
	"prix_total" NUMERIC(10,3),
	"statut" VARCHAR(100)
);


-- Table ligne de comma,de

DROP TABLE IF EXISTS "ligne_commande";
CREATE TABLE "ligne_commande"
(
	"id_ligne_commde" INTEGER NOT NULL UNIQUE,
	"quantite" INTEGER NOT NULL,
	"prix_unitaire" NUMERIC(10,2) NOT NULL,
	"montant_ttotal" NUMERIC(10,2) NOT NULL,
	"photo" BYTEA,
	"avec_paiemrnt" BOOLEAN,
	"nombre_pagne" INTEGER
);

-- Table vÃªetement



DROP TABLE IF EXISTS "vetement";
CREATE TABLE "vetement"
(
	"id_vetement" INTEGER NOT NULL PRIMARY KEY,
	"type" VARCHAR(100)
);

-- table model

DROP TABLE IF EXISTS "model";
CREATE TABLE "model"
(
	"id_model" INTEGER NULL PRIMARY KEY,
	"nom_model" VARCHAR(100) NOT NULL,
	"description" VARCHAR(255),
	"prix" NUMERIC(10,3),
	"photo" BYTEA
 );


 -- Table tache

 
DROP TABLE IF EXISTS "tache";
CREATE TABLE "tache"
(
	"id_tache" INTEGER NOT NULL PRIMARY KEY,
	"nom_tache" VARCHAR(100), 
	"date_debut" DATE,
	"statut" VARCHAR(100),
	"date_fin" DATE
);

-- Table facture


DROP TABLE IF EXISTS "facture";
CREATE TABLE "facture"
(
	"id_facture" INTEGER NOT NULL,
	"date" TIMESTAMP DEFAULT NOW(),
	"statut" VARCHAR(100),
	"prix_total" NUMERIC(10,3),
	"tval" NUMERIC(10,3),
	"ttc" NUMERIC(10,3),
	"avance" NUMERIC(10,3),
	"reste_apaiye" NUMERIC(10,3)	
);

-- Table facture 

DROP TABLE IF EXISTS "ligne_facture";
CREATE TABLE "ligne_facture"
(
	"description" VARCHAR(100),
	"quantite" INTEGER NOT NULL,
	"prix_unitaure" NUMERIC(10,2),
	"prix_total" NUMERIC(10,3)
);

-- enum mode de paiement
-- Table paiement 
DROP TABLE IF EXISTS "paiement";
CREATE TABLE "paiement"
(
	"id_paiement" INTEGER NOT NULL,
	"date_paiement" TIMESTAMP DEFAULT NOW(),
	"statut" VARCHAR(100),
	"mode_paiement" VARCHAR(100)
);

-- table mesure 
DROP TABLE IF EXISTS "mesure";
CREATE TABLE "mesure"
(
	"epaule" NUMERIC(2,2),
	"tour_poitrine" NUMERIC(2,2),
	"tour_taille" NUMERIC(2,2),
	"tour_bassin" NUMERIC(2,2),
	"tour_cuisse" NUMERIC(2,2),
	"tour_genou" NUMERIC(2,2),
	"tour_cheville" NUMERIC(2,2),
	"tour_ceinture" NUMERIC(2,2),
	"tour_manche" NUMERIC(2,2),
	"longueur_corsage" NUMERIC(2,2),
	"loungueur_chemise" NUMERIC(2,2),
	"longueur_robe" NUMERIC(2,2),
	"longueur_pandalon" NUMERIC(2,2),
	"longueur_jupe" NUMERIC(2,2),
	"longueur_manche" NUMERIC(2,2),
	"longueur_taille" NUMERIC(2,2)

);

 

